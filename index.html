<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StartupStage Growth Diagnostic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #8F5AF3;
            --secondary: #FFA8CB;
            --dark: #050310;
            --card-bg: rgba(15, 8, 32, 0.9);
            --text-light: #F8F6FF;
            --text-muted: #B8A9D1;
            --success: #4CAF50;
            --gradient: linear-gradient(135deg, #8F5AF3, #FFA8CB);
            --border-color: rgba(143, 90, 243, 0.2);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(180deg, #050310 0%, #0A0520 50%, #050310 100%);
            color: var(--text-light);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
        }
        
        .question-section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 80px;
            backdrop-filter: blur(10px);
        }
        
        .progress-bar {
            height: 6px;
            background: rgba(143, 90, 243, 0.2);
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 3px;
            transition: width 0.4s ease;
            width: 0%;
        }
        
        .options-grid {
            display: grid;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .option-card {
            background: rgba(26, 15, 53, 0.5);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-light);
        }
        
        .option-card:hover {
            border-color: var(--primary);
            background: rgba(143, 90, 243, 0.1);
        }
        
        .option-card.selected {
            border-color: var(--primary);
            background: rgba(143, 90, 243, 0.2);
        }
        
        .option-card .icon {
            opacity: 0;
            transition: opacity 0.3s ease;
            color: var(--primary);
        }
        
        .option-card.selected .icon {
            opacity: 1;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            margin-top: 20px;
            width: 100%;
            text-align: center;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(143, 90, 243, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .results-section {
            display: none;
        }
        
        .diagnosis-card {
            background: var(--card-bg);
            border: 2px solid var(--primary);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
        }
        
        .diagnosis-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .bottleneck-badge {
            display: inline-block;
            background: var(--gradient);
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .symptoms-grid {
            margin: 40px 0;
        }
        
        .symptom-item {
            background: rgba(26, 15, 53, 0.5);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }
        
        .symptom-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .implementation-plan {
            background: rgba(143, 90, 243, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-top: 40px;
        }
        
        .plan-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .day-task {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
        }
        
        .day-number {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .task-list {
            list-style: none;
            padding: 0;
            margin-top: 15px;
        }
        
        .task-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(143, 90, 243, 0.1);
            display: flex;
            align-items: flex-start;
        }
        
        .task-list li:last-child {
            border-bottom: none;
        }
        
        .task-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: var(--primary);
        }
        
        .loading-screen {
            display: none;
            text-align: center;
            padding: 60px 20px;
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(143, 90, 243, 0.2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .export-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .export-btn {
            flex: 1;
            min-width: 150px;
            padding: 12px 24px;
            background: rgba(143, 90, 243, 0.2);
            border: 2px solid var(--primary);
            border-radius: 8px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .export-btn:hover {
            background: rgba(143, 90, 243, 0.3);
            transform: translateY(-2px);
        }
        
        .revenue-impact {
            background: linear-gradient(135deg, rgba(255, 168, 203, 0.2), rgba(143, 90, 243, 0.2));
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
            border: 1px solid var(--secondary);
        }
        
        .impact-amount {
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        a {
            color: var(--primary);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        a:hover {
            text-decoration: underline;
            color: var(--secondary);
        }
        
        @media (max-width: 640px) {
            h1 { font-size: 1.8rem; }
            .question-section { padding: 20px; }
            .diagnosis-card { padding: 25px; }
            
            .implementation-plan .plan-header + div {
                flex-direction: column;
                align-items: stretch !important;
            }
            
            .implementation-plan .plan-header + div > div:last-child {
                margin-top: 20px;
                width: 100%;
            }
        }
        
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .header, .question-section, .loading-screen {
                display: none !important;
            }
            
            .diagnosis-card {
                background: white !important;
                border: 2px solid #333 !important;
                color: black !important;
            }
            
            .bottleneck-badge {
                background: #333 !important;
                color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .symptom-item {
                background: #f5f5f5 !important;
                border-left: 4px solid #333 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .implementation-plan {
                background: #f9f9f9 !important;
                page-break-inside: avoid;
            }
            
            .day-task {
                background: white !important;
                border: 1px solid #ddd !important;
                page-break-inside: avoid;
            }
            
            .export-buttons {
                display: none !important;
            }
            
            .implementation-plan > div:last-child {
                display: none !important;
            }
            
            .task-checkbox {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            h2, h3, .plan-header {
                color: black !important;
            }
            
            .symptom-title, .day-number {
                color: #333 !important;
                font-weight: bold !important;
            }
            
            .revenue-impact {
                background: #f0f0f0 !important;
                border: 2px solid #333 !important;
            }
            
            .impact-amount {
                color: black !important;
                -webkit-text-fill-color: black !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Find Your #1 Growth Bottleneck</h1>
            <p class="subtitle">Based on analysis of thousands of startups • Takes 3 minutes</p>
        </div>
        
        <!-- Questions Section -->
        <div class="question-section">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            
            <form id="diagnosticForm">
                <!-- Q1: MRR -->
                <h3>What's your current monthly recurring revenue?</h3>
                <div class="options-grid" data-question="mrr">
                    <div class="option-card" data-value="0">
                        $0 (Pre-revenue)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="1-10k">
                        $1-10K (Early Stage)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="10-50k">
                        $10-50K (Growth Stage)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="50-100k">
                        $50-100K (Scale Stage)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="100k">
                        $100K+ (Scale Stage)
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q2: Primary Challenge -->
                <h3>What's your biggest challenge right now?</h3>
                <div class="options-grid" data-question="challenge">
                    <div class="option-card" data-value="acquisition">
                        Getting new customers
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="retention">
                        Keeping customers
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="pricing">
                        Revenue per customer
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="operations">
                        Too many things to manage
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="research">
                        Researching what to do next
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q3: Growth Trend -->
                <h3>How has your revenue changed over the last 3 months?</h3>
                <div class="options-grid" data-question="growth">
                    <div class="option-card" data-value="declining">
                        Declining
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="flat">
                        Flat (zero to 5% growth)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="slow">
                        Slow growth (5-15%)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="fast">
                        Fast growth (15%+)
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q4: Churn -->
                <h3>What's your monthly customer churn rate?</h3>
                <div class="options-grid" data-question="churn">
                    <div class="option-card" data-value="unknown">
                        Don't track it
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="low">
                        Under 5%
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="medium">
                        5-10%
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="high">
                        Over 10%
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q5: Time in Business -->
                <h3>How long have you been working on this business?</h3>
                <div class="options-grid" data-question="time">
                    <div class="option-card" data-value="new">
                        Less than 6 months
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="early">
                        6-12 months
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="established">
                        1-2 years
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="veteran">
                        Over 2 years
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q6: Sales Process -->
                <h3>Who handles sales in your company?</h3>
                <div class="options-grid" data-question="sales">
                    <div class="option-card" data-value="founder">
                        Just me (founder)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="team">
                        Small sales team
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="automated">
                        Mostly automated
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="none">
                        No active sales
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q7: Time Allocation -->
                <h3>Where do you spend most of your time?</h3>
                <div class="options-grid" data-question="time-spent">
                    <div class="option-card" data-value="product">
                        Building product
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="sales">
                        Sales and marketing
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="support">
                        Customer support
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="admin">
                        Operations/admin
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q8: Business Model -->
                <h3>What's your business model?</h3>
                <div class="options-grid" data-question="model">
                    <div class="option-card" data-value="saas">
                        SaaS (subscription)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="service">
                        Service/consulting
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="ecommerce">
                        E-commerce/marketplace
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="other">
                        Other
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q9: Last Price Increase -->
                <h3>When did you last raise prices?</h3>
                <div class="options-grid" data-question="price-change">
                    <div class="option-card" data-value="never">
                        Never
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="recent">
                        Within 6 months
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="old">
                        6-12 months ago
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="ancient">
                        Over a year ago
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <!-- Q10: Services/Upsells -->
                <h3>Do you offer additional services or upsells?</h3>
                <div class="options-grid" data-question="upsells">
                    <div class="option-card" data-value="none">
                        No additional offerings
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="basic">
                        Some add-ons (under 10% of revenue)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="moderate">
                        Multiple upsells (10-30% of revenue)
                        <span class="icon">✓</span>
                    </div>
                    <div class="option-card" data-value="strong">
                        Strong expansion revenue (30%+ of revenue)
                        <span class="icon">✓</span>
                    </div>
                </div>
                
                <button type="submit" class="btn-primary" id="submitBtn" disabled>
                    Complete Diagnosis
                </button>
            </form>
        </div>
        
        <!-- Loading Screen -->
        <div class="loading-screen" id="loadingScreen">
            <div class="spinner"></div>
            <h2>Analyzing your responses...</h2>
            <p style="color: var(--text-muted); margin-top: 20px;">Comparing against thousands of startup patterns</p>
        </div>
        
        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <div class="diagnosis-card">
                <div class="diagnosis-header">
                    <div class="bottleneck-badge" id="bottleneckBadge"></div>
                    <h2 id="bottleneckTitle"></h2>
                    <p id="bottleneckDescription" style="color: var(--text-muted); margin-top: 15px;"></p>
                </div>
                
                <div class="revenue-impact">
                    <p style="color: var(--text-muted); margin-bottom: 10px;">Potential Monthly Revenue Impact:</p>
                    <div class="impact-amount" id="revenueImpact"></div>
                    <p style="color: var(--text-muted); margin-top: 10px; font-size: 0.9rem;">Based on similar companies at your stage</p>
                </div>
                
                <div class="symptoms-grid" id="symptomsGrid">
                    <h3 style="margin-bottom: 20px; color: var(--text-light);">Key Issues We Identified:</h3>
                </div>
                
                <div class="implementation-plan">
                    <div class="plan-header">Your 14-Day Implementation Plan</div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 20px;">
                        <div>
                            <p style="color: var(--text-muted); margin: 0; font-size: 0.95rem;">
                                Total time investment:
                            </p>
                            <p style="background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 1.8rem; font-weight: 800; margin: 3px 0; line-height: 1;">
                                25-30 hours
                            </p>
                            <p style="color: var(--text-muted); font-size: 0.9rem; margin: 3px 0 0;">
                                over 14 days
                            </p>
                        </div>
                        <div style="background: rgba(143, 90, 243, 0.08); border: 1px solid rgba(143, 90, 243, 0.3); border-radius: 10px; padding: 14px 24px; text-align: center;">
                            <p style="color: var(--text-muted); margin: 0; font-size: 0.85rem;">Don't have time?</p>
                            <p style="color: var(--primary); font-weight: 600; margin: 3px 0; font-size: 0.95rem;">We can help implement this</p>
                            <a href="https://cal.com/startupstage/get-unstuck-1-on-1-founder-call" style="color: var(--text-muted); font-size: 0.85rem; text-decoration: underline;">
                                Schedule your included call →
                            </a>
                        </div>
                    </div>
                    <div id="implementationTasks"></div>
                    
                    <div style="background: rgba(143, 90, 243, 0.1); border-radius: 12px; padding: 25px; margin-top: 30px; text-align: center; border: 1px solid var(--primary);">
                        <h3 style="color: var(--primary); margin-bottom: 10px; font-size: 1.3rem;">Need Help Implementing This Plan?</h3>
                        <p style="color: var(--text-muted); margin-bottom: 20px;">
                            Get expert guidance from founders who've solved these exact problems.
                        </p>
                        <a href="https://cal.com/startupstage/get-unstuck-1-on-1-founder-call" class="btn-primary" style="display: inline-block; padding: 12px 30px; font-size: 1rem;">
                            Schedule Your Included Expert Call
                        </a>
                    </div>
                </div>
                
                <div class="export-buttons" style="display: flex; justify-content: center; margin-top: 30px;">
                    <button class="export-btn" onclick="downloadPlan()" style="padding: 14px 40px; font-size: 1.05rem; font-weight: 600;">
                        Download Complete Implementation Guide
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Store answers
        let answers = {};
        let answeredQuestions = new Set();
        const totalQuestions = 10;
        
        // Store current diagnosis for use in PDF
        let currentDiagnosis = null;
        
        // Add click handlers to all option cards
        document.querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                const grid = this.parentElement;
                const question = grid.dataset.question;
                
                // Remove selected class from siblings
                grid.querySelectorAll('.option-card').forEach(sibling => {
                    sibling.classList.remove('selected');
                });
                
                // Add selected class to clicked card
                this.classList.add('selected');
                
                // Store answer
                answers[question] = this.dataset.value;
                answeredQuestions.add(question);
                
                // Update progress
                updateProgress();
                
                // Check if all questions answered
                const allGrids = document.querySelectorAll('.options-grid');
                let allAnswered = true;
                allGrids.forEach(grid => {
                    if (!grid.querySelector('.option-card.selected')) {
                        allAnswered = false;
                    }
                });
                
                // Enable submit button if all questions answered
                if (allAnswered) {
                    document.getElementById('submitBtn').disabled = false;
                    document.getElementById('submitBtn').style.cursor = 'pointer';
                }
            });
        });
        
        function updateProgress() {
            const percentage = (answeredQuestions.size / totalQuestions) * 100;
            document.getElementById('progress').style.width = percentage + '%';
        }
        
        // Form submission
        document.getElementById('diagnosticForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Form submitted!', answers);
            
            // Hide questions, show loading
            document.querySelector('.question-section').style.display = 'none';
            document.getElementById('loadingScreen').style.display = 'block';
            
            // Simulate processing
            setTimeout(() => {
                generateDiagnosis();
            }, 2500);
        });
        
        // Also add click handler directly to button as backup
        document.getElementById('submitBtn').addEventListener('click', function(e) {
            if (!this.disabled) {
                e.preventDefault();
                console.log('Button clicked!', answers);
                
                // Hide questions, show loading
                document.querySelector('.question-section').style.display = 'none';
                document.getElementById('loadingScreen').style.display = 'block';
                
                // Simulate processing
                setTimeout(() => {
                    generateDiagnosis();
                }, 2500);
            }
        });
        
        function generateDiagnosis() {
            // Dynamic scoring system
            const scores = {
                pricing: 0,
                retention: 0,
                acquisition: 0,
                operations: 0,
                pmf: 0
            };
            
            // Primary challenge gives huge weight
            if (answers.challenge === 'pricing') scores.pricing += 30;
            if (answers.challenge === 'retention') scores.retention += 30;
            if (answers.challenge === 'acquisition') scores.acquisition += 30;
            if (answers.challenge === 'operations') scores.operations += 30;
            if (answers.challenge === 'research') scores.pricing += 20; // Research usually means pricing issues
            
            // Growth signals
            if (answers.growth === 'flat' || answers.growth === 'declining') {
                scores.pricing += 15;
                scores.pmf += 10;
            }
            
            // Churn analysis
            if (answers.churn === 'high') {
                scores.retention += 25;
                scores.pmf += 15;
            } else if (answers.churn === 'medium') {
                scores.retention += 15;
            } else if (answers.churn === 'unknown') {
                scores.operations += 10;
            }
            
            // Price change history
            if (answers['price-change'] === 'never' || answers['price-change'] === 'ancient') {
                scores.pricing += 20;
            }
            
            // Upsells analysis
            if (answers.upsells === 'none' || answers.upsells === 'basic') {
                scores.pricing += 10;
            }
            
            // Time in business vs MRR
            if (answers.time === 'veteran' && (answers.mrr === '0' || answers.mrr === '1-10k')) {
                scores.pmf += 20;
                scores.operations += 15;
            }
            
            // Sales process inefficiency
            if (answers.sales === 'founder' && answers['time-spent'] === 'sales') {
                scores.acquisition += 15;
                scores.operations += 10;
            }
            
            // Find highest scoring bottleneck
            let maxScore = 0;
            let primaryBottleneck = 'pricing';
            
            for (const [key, value] of Object.entries(scores)) {
                if (value > maxScore) {
                    maxScore = value;
                    primaryBottleneck = key;
                }
            }
            
            // Generate diagnosis based on bottleneck
            const diagnoses = {
                pricing: {
                    badge: 'HIDDEN REVENUE',
                    title: 'You Have a Hidden Revenue Bottleneck',
                    description: 'Most founders at your stage are leaving 30-60% of potential revenue on the table through underpricing and missing expansion opportunities.',
                    symptoms: generatePricingSymptoms(),
                    plan: generatePricingPlan()
                },
                retention: {
                    badge: 'RETENTION CRISIS',
                    title: 'You Have a Retention Crisis',
                    description: 'Your churn rate is destroying growth. Every improvement in retention has compounding effects on revenue.',
                    symptoms: generateRetentionSymptoms(),
                    plan: generateRetentionPlan()
                },
                acquisition: {
                    badge: 'ACQUISITION BOTTLENECK',
                    title: 'You Have an Acquisition Bottleneck',
                    description: 'Your customer acquisition process is inefficient, making growth expensive and unsustainable.',
                    symptoms: generateAcquisitionSymptoms(),
                    plan: generateAcquisitionPlan()
                },
                operations: {
                    badge: 'OPERATIONAL CHAOS',
                    title: 'You Have Operational Chaos',
                    description: 'You\'re drowning in tasks instead of focusing on growth. Systems and automation can free up 40% of your time.',
                    symptoms: generateOperationsSymptoms(),
                    plan: generateOperationsPlan()
                },
                pmf: {
                    badge: 'PRODUCT-MARKET FIT GAP',
                    title: 'You Have a Product-Market Fit Gap',
                    description: 'Your product isn\'t solving a painful enough problem for your target market, making everything else harder.',
                    symptoms: generatePMFSymptoms(),
                    plan: generatePMFPlan()
                }
            };
            
            const diagnosis = diagnoses[primaryBottleneck];
            
            // Calculate revenue impact based on MRR
            const mrrRanges = {
                '0': [500, 2000],
                '1-10k': [1000, 5000],
                '10-50k': [5000, 20000],
                '50-100k': [15000, 45000],
                '100k': [25000, 60000]
            };
            
            const [low, high] = mrrRanges[answers.mrr] || [1000, 5000];
            const impact = `$${(low/1000).toFixed(0)}K - $${(high/1000).toFixed(0)}K`;
            
            // Store diagnosis for PDF
            currentDiagnosis = {
                ...diagnosis,
                impact: impact,
                bottleneckType: primaryBottleneck
            };
            
            // Display results
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('resultsSection').style.display = 'block';
            
            document.getElementById('bottleneckBadge').textContent = diagnosis.badge;
            document.getElementById('bottleneckTitle').textContent = diagnosis.title;
            document.getElementById('bottleneckDescription').textContent = diagnosis.description;
            document.getElementById('revenueImpact').textContent = impact;
            
            // Display symptoms
            const symptomsGrid = document.getElementById('symptomsGrid');
            diagnosis.symptoms.forEach(symptom => {
                const symptomDiv = document.createElement('div');
                symptomDiv.className = 'symptom-item';
                symptomDiv.innerHTML = `
                    <div class="symptom-title">${symptom.title}</div>
                    <div>${symptom.description}</div>
                `;
                symptomsGrid.appendChild(symptomDiv);
            });
            
            // Display implementation plan
            const tasksDiv = document.getElementById('implementationTasks');
            diagnosis.plan.forEach(day => {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day-task';
                
                let tasksHTML = '<ul class="task-list">';
                day.tasks.forEach(task => {
                    tasksHTML += `<li><input type="checkbox" class="task-checkbox"> ${task}</li>`;
                });
                tasksHTML += '</ul>';
                
                dayDiv.innerHTML = `
                    <div class="day-number">${day.day}</div>
                    <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">${day.time}</div>
                    ${tasksHTML}
                `;
                tasksDiv.appendChild(dayDiv);
            });
        }
        
        function generatePricingSymptoms() {
            const symptoms = [];
            
            // Primary symptom based on actual answer
            if (answers['price-change'] === 'never') {
                symptoms.push({
                    title: 'Never Tested Pricing',
                    description: 'You\'ve never raised prices, guaranteeing you\'re undervalued. Most founders can increase 20-40% without losing customers.'
                });
            } else if (answers['price-change'] === 'ancient') {
                symptoms.push({
                    title: 'Stale Pricing Strategy',
                    description: 'Your pricing is over a year old. Markets change, value increases, but your prices haven\'t kept pace.'
                });
            }
            
            // Secondary symptom based on upsells answer
            if (answers.upsells === 'none') {
                symptoms.push({
                    title: 'No Expansion Revenue',
                    description: 'You have zero upsell opportunities. Successful SaaS companies generate 30%+ from existing customers.'
                });
            } else if (answers.upsells === 'basic') {
                symptoms.push({
                    title: 'Weak Expansion Revenue',
                    description: 'Your upsells generate less than 10% of revenue. There\'s significant room for growth here.'
                });
            }
            
            // Growth-based symptom
            if (answers.growth === 'flat' || answers.growth === 'declining') {
                symptoms.push({
                    title: 'Revenue Plateau',
                    description: 'Your flat/declining growth often indicates pricing that doesn\'t capture value delivered.'
                });
            }
            
            // If we need more symptoms, add general ones
            while (symptoms.length < 3) {
                const generalSymptoms = [
                    {
                        title: 'Likely Underpriced vs Market',
                        description: 'Without regular pricing tests, you\'re probably 30-50% below market rates.'
                    },
                    {
                        title: 'Missing Annual Plan Revenue',
                        description: 'Annual plans with 2 months free can improve cash flow by 40%.'
                    },
                    {
                        title: 'No Premium Tier',
                        description: 'Without premium options, you\'re missing high-value customers willing to pay more.'
                    }
                ];
                symptoms.push(generalSymptoms[symptoms.length]);
            }
            
            return symptoms.slice(0, 3);
        }
        
        function generateRetentionSymptoms() {
            const symptoms = [];
            
            // Primary based on churn
            if (answers.churn === 'high') {
                symptoms.push({
                    title: 'Critical Churn Rate (>10%)',
                    description: 'You\'re losing customers faster than sustainable. This is your #1 priority to fix.'
                });
            } else if (answers.churn === 'medium') {
                symptoms.push({
                    title: 'Elevated Churn Rate (5-10%)',
                    description: 'Your churn is above healthy levels. Each 1% improvement has compounding effects.'
                });
            } else if (answers.churn === 'unknown') {
                symptoms.push({
                    title: 'Untracked Churn',
                    description: 'You can\'t fix what you don\'t measure. Setting up tracking is step one.'
                });
            }
            
            // Challenge-based
            if (answers.challenge === 'retention') {
                symptoms.push({
                    title: 'Customer Success Gaps',
                    description: 'Your onboarding or ongoing support isn\'t helping customers achieve their goals.'
                });
            }
            
            // Time spent
            if (answers['time-spent'] === 'support') {
                symptoms.push({
                    title: 'Support Overwhelm',
                    description: 'Spending most time on support indicates product or onboarding issues.'
                });
            }
            
            // Fill with general if needed
            const generalSymptoms = [
                {
                    title: 'Weak Activation',
                    description: 'Customers aren\'t reaching their "aha moment" quickly enough.'
                },
                {
                    title: 'Poor Product-Market Fit',
                    description: 'High churn often signals misalignment with customer needs.'
                },
                {
                    title: 'Missing Engagement Loops',
                    description: 'Your product lacks features that bring users back regularly.'
                }
            ];
            
            while (symptoms.length < 3) {
                symptoms.push(generalSymptoms[symptoms.length]);
            }
            
            return symptoms.slice(0, 3);
        }
        
        function generateAcquisitionSymptoms() {
            const symptoms = [];
            
            // Sales process based
            if (answers.sales === 'founder') {
                symptoms.push({
                    title: 'Founder Bottleneck',
                    description: 'Everything depends on you. This doesn\'t scale and burns you out.'
                });
            } else if (answers.sales === 'none') {
                symptoms.push({
                    title: 'No Active Sales',
                    description: 'Hoping customers find you isn\'t a strategy. You need systematic outreach.'
                });
            }
            
            // Challenge based
            if (answers.challenge === 'acquisition') {
                symptoms.push({
                    title: 'Weak Lead Generation',
                    description: 'Your current channels aren\'t delivering qualified prospects consistently.'
                });
            }
            
            // Time based
            if (answers['time-spent'] === 'sales' && answers.growth !== 'fast') {
                symptoms.push({
                    title: 'Sales Efficiency Problem',
                    description: 'You\'re spending time selling but not seeing results. Process needs optimization.'
                });
            }
            
            // General symptoms
            const generalSymptoms = [
                {
                    title: 'No Scalable Channel',
                    description: 'You haven\'t found a repeatable way to acquire customers profitably.'
                },
                {
                    title: 'Poor Conversion Rates',
                    description: 'Leads aren\'t converting, indicating messaging or qualification issues.'
                },
                {
                    title: 'High CAC',
                    description: 'Customer acquisition costs are too high relative to lifetime value.'
                }
            ];
            
            while (symptoms.length < 3) {
                symptoms.push(generalSymptoms[symptoms.length]);
            }
            
            return symptoms.slice(0, 3);
        }
        
        function generateOperationsSymptoms() {
            const symptoms = [];
            
            if (answers.challenge === 'operations') {
                symptoms.push({
                    title: 'Task Overwhelm',
                    description: 'Too many things need your attention. You need systems and delegation.'
                });
            }
            
            if (answers['time-spent'] === 'admin') {
                symptoms.push({
                    title: 'Admin Time Sink',
                    description: 'Operations are stealing time from growth activities.'
                });
            }
            
            if (answers.time === 'veteran' && (answers.mrr === '0' || answers.mrr === '1-10k')) {
                symptoms.push({
                    title: 'Execution Problems',
                    description: 'After 2+ years with low revenue, systems and focus are the issue.'
                });
            }
            
            const generalSymptoms = [
                {
                    title: 'No Standard Processes',
                    description: 'Everything is ad-hoc, causing inconsistency and inefficiency.'
                },
                {
                    title: 'Tool Chaos',
                    description: 'Using too many tools or the wrong ones for your stage.'
                },
                {
                    title: 'Lack of Automation',
                    description: 'Manual tasks that could be automated are eating your time.'
                }
            ];
            
            while (symptoms.length < 3) {
                symptoms.push(generalSymptoms[symptoms.length]);
            }
            
            return symptoms.slice(0, 3);
        }
        
        function generatePMFSymptoms() {
            const symptoms = [];
            
            if (answers.growth === 'declining') {
                symptoms.push({
                    title: 'Declining Revenue',
                    description: 'Loss of revenue indicates fundamental product-market misalignment.'
                });
            }
            
            if (answers.churn === 'high') {
                symptoms.push({
                    title: 'Customers Don\'t Stick',
                    description: 'High churn means your product isn\'t solving a critical problem.'
                });
            }
            
            if (answers.time === 'veteran' && answers.mrr === '0') {
                symptoms.push({
                    title: 'No Revenue After 2+ Years',
                    description: 'This timeline suggests fundamental market or product issues.'
                });
            }
            
            const generalSymptoms = [
                {
                    title: 'Weak Value Proposition',
                    description: 'Customers don\'t clearly understand or need what you offer.'
                },
                {
                    title: 'Wrong Target Market',
                    description: 'You\'re selling to people who don\'t desperately need your solution.'
                },
                {
                    title: 'Feature Bloat',
                    description: 'Building features hoping something sticks instead of solving one problem well.'
                }
            ];
            
            while (symptoms.length < 3) {
                symptoms.push(generalSymptoms[symptoms.length]);
            }
            
            return symptoms.slice(0, 3);
        }
        
        // Implementation plans (simplified versions for each bottleneck)
        function generatePricingPlan() {
            return [
                {
                    day: 'Days 1-3: Price Discovery',
                    time: '6 hours total',
                    tasks: [
                        'Call 5 customers: "What value do you get from our product?"',
                        'Research 3 competitors\' pricing pages',
                        'Calculate your true cost per customer',
                        'Document which features customers actually use'
                    ]
                },
                {
                    day: 'Days 4-7: Test & Implement',
                    time: '8 hours total',
                    tasks: [
                        'Raise prices 20% for NEW customers only',
                        'Create one premium tier with 2x pricing',
                        'Design a services package ($2-5K one-time)',
                        'Update website with new pricing'
                    ]
                },
                {
                    day: 'Days 8-14: Expand Revenue',
                    time: '10 hours total',
                    tasks: [
                        'Launch annual plans (2 months free)',
                        'Email top 20% of customers about premium tier',
                        'Track acceptance rates daily',
                        'Plan next price increase if >80% accept'
                    ]
                }
            ];
        }
        
        function generateRetentionPlan() {
            return [
                {
                    day: 'Days 1-3: Diagnose Churn',
                    time: '8 hours total',
                    tasks: [
                        'Export list of churned customers from last 60 days',
                        'Email 10 churned users for 15-min calls',
                        'Analyze usage data before churn',
                        'Identify top 3 churn triggers'
                    ]
                },
                {
                    day: 'Days 4-7: Fix Onboarding',
                    time: '10 hours total',
                    tasks: [
                        'Map your current onboarding flow',
                        'Identify where users get stuck',
                        'Create 3 onboarding emails for new users',
                        'Add progress bar to setup process'
                    ]
                },
                {
                    day: 'Days 8-14: Engagement Systems',
                    time: '8 hours total',
                    tasks: [
                        'Set up weekly check-in emails',
                        'Create re-engagement campaign for dormant users',
                        'Launch "office hours" for struggling customers',
                        'Implement usage-based upgrade prompts'
                    ]
                }
            ];
        }
        
        function generateAcquisitionPlan() {
            return [
                {
                    day: 'Days 1-3: Channel Analysis',
                    time: '6 hours total',
                    tasks: [
                        'List all current traffic sources',
                        'Calculate CAC for each channel',
                        'Identify your #1 performing channel',
                        'Document your sales process end-to-end'
                    ]
                },
                {
                    day: 'Days 4-7: Optimize Best Channel',
                    time: '10 hours total',
                    tasks: [
                        'Double down on best channel',
                        'A/B test 3 new headlines/messages',
                        'Improve landing page conversion',
                        'Set up proper conversion tracking'
                    ]
                },
                {
                    day: 'Days 8-14: Scale What Works',
                    time: '12 hours total',
                    tasks: [
                        'Increase budget on winning channel by 50%',
                        'Create 5 pieces of content for that channel',
                        'Test one new similar channel',
                        'Document playbook for repeatable execution'
                    ]
                }
            ];
        }
        
        function generateOperationsPlan() {
            return [
                {
                    day: 'Days 1-3: Time Audit',
                    time: '4 hours total',
                    tasks: [
                        'Track every task for 3 days',
                        'Identify top 5 time wasters',
                        'List all tools you\'re currently using',
                        'Find 3 tasks you can eliminate immediately'
                    ]
                },
                {
                    day: 'Days 4-7: Automate Basics',
                    time: '8 hours total',
                    tasks: [
                        'Set up email templates for common responses',
                        'Automate invoice and payment collection',
                        'Create SOPs for repetitive tasks',
                        'Implement basic Zapier workflows'
                    ]
                },
                {
                    day: 'Days 8-14: Systems & Delegation',
                    time: '10 hours total',
                    tasks: [
                        'Hire VA for 5 hours/week ($15-25/hour)',
                        'Document your core processes',
                        'Set up project management system',
                        'Create weekly dashboard for key metrics'
                    ]
                }
            ];
        }
        
        function generatePMFPlan() {
            return [
                {
                    day: 'Days 1-3: Customer Discovery',
                    time: '10 hours total',
                    tasks: [
                        'Interview 10 customers about their #1 problem',
                        'Ask: "How disappointed would you be if we disappeared?"',
                        'Document exact words customers use',
                        'Identify patterns in feedback'
                    ]
                },
                {
                    day: 'Days 4-7: Pivot or Persevere',
                    time: '8 hours total',
                    tasks: [
                        'Decide: narrow focus or find new market',
                        'Rewrite value proposition in customer\'s words',
                        'Remove 3 features nobody uses',
                        'Test new positioning with 5 prospects'
                    ]
                },
                {
                    day: 'Days 8-14: Validate Changes',
                    time: '12 hours total',
                    tasks: [
                        'Run targeted ads to new positioning',
                        'Measure engagement with new message',
                        'Get 10 new customers with new approach',
                        'Track if retention improves'
                    ]
                }
            ];
        }
        
        // Download function - creates branded PDF HTML report
        function downloadPlan() {
            if (!currentDiagnosis) return;
            
            // Create the HTML content for the PDF
            const pdfHTML = `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StartupStage Diagnostic Report - Growth Analysis</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        @page {
            size: A4;
            margin: 0;
        }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            color: #050310;
            background: white;
            line-height: 1.6;
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
        }
        
        .page {
            width: 210mm;
            min-height: 297mm;
            padding: 20mm 20mm 25mm 20mm;
            margin: 0 auto;
            background: white;
            position: relative;
        }
        
        .page::before {
            content: '';
            position: absolute;
            top: -10%;
            right: -5%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(143, 90, 243, 0.03) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }
        
        .content {
            position: relative;
            z-index: 1;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 3rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .company-name {
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #8F5AF3, #FFA8CB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }
        
        .tagline {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #999;
            font-weight: 600;
            margin-top: 0.25rem;
        }
        
        .metadata {
            text-align: right;
            font-size: 0.85rem;
            color: #999;
        }
        
        .diagnosis-card {
            background: #fafafa;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            padding: 2.5rem;
            margin: 3rem 0;
            position: relative;
        }
        
        .diagnosis-badge {
            display: inline-block;
            background: #050310;
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 1.5rem;
        }
        
        .diagnosis-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: #050310;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .diagnosis-description {
            font-size: 1.1rem;
            color: #444;
            line-height: 1.7;
        }
        
        .impact-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .metric-card {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #8F5AF3, #FFA8CB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .metric-label {
            font-size: 0.85rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        
        .metric-context {
            font-size: 0.75rem;
            color: #999;
            margin-top: 0.5rem;
        }
        
        .findings-section {
            margin: 3rem 0;
        }
        
        .section-header {
            font-size: 1.6rem;
            font-weight: 900;
            margin-bottom: 2rem;
            color: #050310;
        }
        
        .finding-card {
            background: #fafafa;
            border-left: 4px solid #8F5AF3;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 0 8px 8px 0;
            position: relative;
            padding-left: 3rem;
        }
        
        .finding-number {
            position: absolute;
            left: 1rem;
            top: 1.5rem;
            width: 28px;
            height: 28px;
            background: #8F5AF3;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }
        
        .finding-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #050310;
        }
        
        .finding-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }
        
        .finding-stat {
            display: inline-block;
            background: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            color: #8F5AF3;
            border: 1px solid #e5e5e5;
            margin-right: 0.5rem;
        }
        
        .implementation-box {
            background: #f8f8f8;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            padding: 2rem;
            margin: 3rem 0;
        }
        
        .implementation-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #050310;
        }
        
        .implementation-timeline {
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }
        
        .implementation-meta {
            font-size: 0.9rem;
            color: #666;
            padding-top: 1rem;
            border-top: 1px solid #e5e5e5;
        }
        
        .cta-section {
            margin-top: 3rem;
            padding: 2.5rem;
            background: #fafafa;
            border-radius: 12px;
            text-align: center;
        }
        
        .cta-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #050310;
            font-weight: 700;
        }
        
        .cta-description {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .cta-meta {
            font-size: 0.85rem;
            color: #999;
            margin-top: 1.5rem;
        }
        
        .footer {
            position: absolute;
            bottom: 15mm;
            left: 20mm;
            right: 20mm;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #999;
        }
        
        .footer-brand {
            font-weight: 700;
            color: #8F5AF3;
        }
        
        @media screen {
            body {
                background: #f5f5f5;
                padding: 20px;
            }
            
            .page {
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            }
        }
        
        @media print {
            body {
                background: white;
            }
            
            .page {
                margin: 0;
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <div class="content">
            <!-- Header -->
            <div class="header">
                <div>
                    <div class="company-name">StartupStage</div>
                    <div class="tagline">The Anti-Accelerator</div>
                </div>
                <div class="metadata">
                    <div><strong>Growth Diagnostic Report</strong></div>
                    <div>${new Date().toLocaleDateString()}</div>
                </div>
            </div>
            
            <!-- Executive Summary -->
            <div class="diagnosis-card">
                <span class="diagnosis-badge">${currentDiagnosis.badge}</span>
                <h1 class="diagnosis-title">${currentDiagnosis.title}</h1>
                <p class="diagnosis-description">
                    ${currentDiagnosis.description}
                </p>
            </div>
            
            <!-- Impact Metrics -->
            <div class="impact-grid">
                <div class="metric-card">
                    <div class="metric-value">${currentDiagnosis.impact}</div>
                    <div class="metric-label">Monthly Revenue Impact</div>
                    <div class="metric-context">Based on your current MRR</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">14 Days</div>
                    <div class="metric-label">Implementation Time</div>
                    <div class="metric-context">25-30 hours total</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">90 Days</div>
                    <div class="metric-label">To See Results</div>
                    <div class="metric-context">Based on similar companies</div>
                </div>
            </div>
            
            <!-- Key Findings -->
            <div class="findings-section">
                <h2 class="section-header">Critical Issues Discovered</h2>
                ${currentDiagnosis.symptoms.map((symptom, index) => `
                    <div class="finding-card">
                        <div class="finding-number">${index + 1}</div>
                        <h3 class="finding-title">${symptom.title}</h3>
                        <p class="finding-description">
                            ${symptom.description}
                        </p>
                    </div>
                `).join('')}
            </div>
            
            <!-- Implementation Roadmap -->
            <div class="implementation-box">
                <h3 class="implementation-title">Your 14-Day Implementation Roadmap</h3>
                <div class="implementation-timeline">
                    ${currentDiagnosis.plan.map(phase => `
                        <strong>${phase.day}:</strong> ${phase.time}<br>
                    `).join('')}
                </div>
                <div class="implementation-meta">
                    Total time investment: 25-30 hours over 14 days<br>
                    Expected ROI: Significant improvement within 90 days
                </div>
            </div>
            
            <!-- CTA Section -->
            <div class="cta-section">
                <h3 class="cta-title">Need Help Implementing This Plan?</h3>
                <p class="cta-description">
                    StartupStage members get direct implementation support from founders who've solved these exact problems.<br>
                    No equity required. Just $199/month.
                </p>
                <div style="margin: 1.5rem 0; padding: 1rem; background: white; border-radius: 8px; border: 2px solid #8F5AF3;">
                    <p style="font-size: 0.9rem; color: #666; margin-bottom: 0.5rem;">Schedule Your Implementation Call:</p>
                    <p style="font-size: 1.1rem; color: #8F5AF3; font-weight: 700; word-break: break-all;">
                        cal.com/startupstage/get-unstuck-1-on-1-founder-call
                    </p>
                </div>
                <p class="cta-meta">
                    30-day money-back guarantee • Cancel anytime • 0% equity forever
                </p>
            </div>
        </div>
        
        <!-- Minimal Footer -->
        <div class="footer">
            <div class="footer-brand">StartupStage</div>
            <div>Page 1 of 1</div>
            <div>© 2025 StartupStage | Proprietary & Confidential</div>
        </div>
    </div>
</body>
</html>
            `;
            
            // Open in new window for printing
            const printWindow = window.open('', '_blank');
            printWindow.document.write(pdfHTML);
            printWindow.document.close();
            
            // Auto-trigger print dialog after a short delay
            setTimeout(() => {
                printWindow.print();
            }, 500);
        }
    </script>
</body>
</html>
